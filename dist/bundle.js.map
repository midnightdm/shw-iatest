{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://shw-iatest/./src/DataModel.js","webpack://shw-iatest/webpack/bootstrap","webpack://shw-iatest/webpack/runtime/define property getters","webpack://shw-iatest/webpack/runtime/hasOwnProperty shorthand","webpack://shw-iatest/webpack/runtime/make namespace object","webpack://shw-iatest/./src/index.js"],"sourcesContent":["export const DataModel = {\r\n    cameraStatus: {\r\n        showVideo: null,\r\n        showVideoOn: null,\r\n        webcamNum: null,\r\n        webcamZoom: 0,\r\n        videoIsFull: false,\r\n        videoIsPassingCloseup: false,\r\n        zoomArray: [\"off\", \"left\", \"center\", \"right\"],\r\n        zoomMode: 0\r\n      },\r\n      trackerStatus: {\r\n        popupOn: false,\r\n        enabled: null,\r\n        followingId: null,\r\n        obj: null\r\n      },\r\n      promoSources: [],\r\n      promoIsOn: false,\r\n      labelIndex:0,\r\n      lab:\"_ABCDEFGHIJKLMNOPQRSTUVWXYZ*#@&~1234567890abcdefghijklmnopqrstuvwxyz\",\r\n      red:\"#ff0000\",\r\n      region: null,\r\n      title: null,\r\n      focusPosition:null,\r\n      map1ZoomLevel: 10,\r\n      passagesCollection: null,\r\n      alertpublishCollection: null,\r\n      voicepublishCollection: null,\r\n      announcementsCollection: null,\r\n      apubFieldName: null,\r\n      vpubFieldName: null,\r\n      lsLenField: null,\r\n      showVideoField: null,\r\n      showVideoOnField: null,\r\n      webcamNumField: null,\r\n      webcamZoomField: null,\r\n      webcamSource: {\"A\":null, \"B\": null, \"C\": null, \"D\": null },\r\n      webcamName: {\"A\": null, \"B\": null, \"C\": null, \"D\": null}, \r\n      webcamType: {\"A\": null, \"B\": null, \"C\": null, \"D\": null},\r\n      videoSource: null,\r\n      videoType: \"application/x-mpegURL\",\r\n      videoIsOn: false,\r\n      videoProgram: null,\r\n      videoProgramIsOn: false,\r\n      passengerTrackerIsOn: false,\r\n      manualTrackerIsOn: false,\r\n      vesselsAreInCameraRange: false,\r\n      vesselsInCamera: [],\r\n      vesselsArePass: [],\r\n      map1: {},\r\n      map2: {},\r\n      map3: {},\r\n      polylines: {},\r\n      mileMarkersList1:[],\r\n      mileMarkerLabels1:[],\r\n      mileMarkersList2:[],\r\n      mileMarkerLabels2:[],\r\n      mileMarkersList3:[],\r\n      mileMarkerLabels3:[],\r\n      rotatingKey: 0,\r\n      passRotKey: 0,\r\n      numVessels: 0,\r\n      fakeDataIterator: 0,\r\n      passagesList: [{type:\"default\"}],\r\n      alertsPassenger: [\r\n        {apubVesselName: \"loading\", apubID:\"loading\", date: new Date()},\r\n        {apubVesselName: \"loading\", apubID:\"loading\", date: new Date()},\r\n        {apubVesselName: \"loading\", apubID:\"loading\", date: new Date()},\r\n        {apubVesselName: \"loading\", apubID:\"loading\", date: new Date()},\r\n        {apubVesselName: \"loading\", apubID:\"loading\", date: new Date()},\r\n      ],\r\n      alertsAll: [\r\n        {apubVesselName: \"loading\", apubID:\"loading\", date: new Date()},\r\n        {apubVesselName: \"loading\", apubID:\"loading\", date: new Date()},\r\n        {apubVesselName: \"loading\", apubID:\"loading\", date: new Date()},\r\n        {apubVesselName: \"loading\", apubID:\"loading\", date: new Date()},\r\n        {apubVesselName: \"loading\", apubID:\"loading\", date: new Date()},\r\n      ],\r\n      announcement: {},\r\n      waypoint: {},\r\n      prevWebcamNum: 0,\r\n      prevWaypoint: {},\r\n      prevVpubID: 0,\r\n      prevApubID: 0,\r\n      isReload: true,\r\n      news: [ \r\n        {key: \"f00\", text: \"Clinton's Riverview Park is a great place to view Mississippi River boat traffic.\"},\r\n        {key: \"f01\", text: \"Welcome to the <em>dashboard</em> page. It's optimized for HD wide screens.\"}\r\n      ],\r\n      newsKey: 0,\r\n      transponder: {\r\n        step: 0,\r\n        stepMax: 7,\r\n        viewList: []\r\n      }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { DataModel } from './DataModel.js'\r\n\r\n\r\n/**\r\n *                            Data Model\r\n */\r\n\r\nlet player = null;\r\nconst dataModel = DataModel;\r\n\r\n\r\n\r\n\r\n/**\r\n * \r\n *                            Functions\r\n *  \r\n */\r\n\r\nasync function fetchWaypoint() {\r\n    const adminSnapshot = onSnapshot(doc(db, \"Passages\", \"Admin\"), (querySnapshot) => {  \r\n      let dataSet = querySnapshot.data()\r\n      let apubID, vpubID, lsLen, apublishCollection, vpublishCollection, waypoint \r\n      let wasOutput = false; //Resets when screen updates\r\n  \r\n      console.log(\"TRACER: Admin obj & dataModel.sitename \", dataSet, dataModel.sitename);\r\n      console.log(\"TracerB: showVideoField, showVideoOnField, webcamNumField, webcamZoomfield\",dataModel.showVideoField, dataModel.showVideoOnField, dataModel.webcamNumField, dataModel.webcamZoomField);\r\n      apubID = dataSet[dataModel.apubFieldName].toString()\r\n      vpubID = dataSet[dataModel.vpubFieldName].toString()\r\n      lsLen   = dataSet[dataModel.lsLenField]\r\n  \r\n      if(!sitename.includes(\"dash\")) {\r\n        dataModel.webcamSource.A = dataSet.webcamSources[dataModel.sitename+\"A\"].src || null\r\n        dataModel.webcamSource.B = dataSet.webcamSources[dataModel.sitename+\"B\"].src || null\r\n        dataModel.webcamSource.C = dataSet.webcamSources[dataModel.sitename+\"C\"].src || null\r\n        dataModel.webcamSource.D = dataSet.webcamSources[dataModel.sitename+\"D\"].src || null\r\n        dataModel.webcamName.A = dataSet.webcamSources[dataModel.sitename+\"A\"].name || null\r\n        dataModel.webcamName.B = dataSet.webcamSources[dataModel.sitename+\"B\"].name || null\r\n        dataModel.webcamName.C = dataSet.webcamSources[dataModel.sitename+\"C\"].name || null\r\n        dataModel.webcamName.D = dataSet.webcamSources[dataModel.sitename+\"D\"].name || null\r\n  \r\n        dataModel.webcamType.A = dataSet.webcamSources[dataModel.sitename+\"A\"].type || null\r\n        dataModel.webcamType.B = dataSet.webcamSources[dataModel.sitename+\"B\"].type || null\r\n        dataModel.webcamType.C = dataSet.webcamSources[dataModel.sitename+\"C\"].type || null\r\n        dataModel.webcamType.D = dataSet.webcamSources[dataModel.sitename+\"D\"].type || null\r\n  \r\n    \r\n        dataModel.cameraStatus.showVideo   = dataSet[dataModel.showVideoField]\r\n        dataModel.cameraStatus.showVideoOn = dataSet[dataModel.showVideoOnField]\r\n        dataModel.cameraStatus.webcamNum   = dataSet[dataModel.webcamNumField]\r\n  \r\n  \r\n        dataModel.cameraStatus.webcamZoom  = dataSet[dataModel.webcamZoomField]\r\n        dataModel.cameraStatus.videoIsPassingCloseup = dataSet.videoIsPassingCloseup;\r\n        dataModel.cameraStatus.videoIsFull = dataSet.videoIsFull;\r\n  \r\n  \r\n      }\r\n  \r\n      apublishCollection = dataModel.alertpublishCollection;\r\n      vpublishCollection = dataModel.voicepublishCollection;\r\n      dataModel.resetTime = dataSet.resetTime;\r\n      dataModel.idTime    = dataSet.idTime;\r\n      /* DATA FORMAT\r\n        idTime [\r\n          {min:14 sec:50 videoIsFull:false },\r\n          {min:44 sec:50 videoIsFull:false },\r\n        ]\r\n       */\r\n      dataModel.promoSources  = dataSet.promoSources;\r\n      dataModel.videoProgram  = dataSet.videoProgram;\r\n      /* DATA FORMAT \r\n        videoProgram {\r\n          date: 5,\r\n          hour: 3,\r\n          min : 0,\r\n          month: 11,\r\n          sec: 0\r\n          source: \"waypoint-notifications.m3u8\",\r\n          title: \"Waypoint Notifications\",\r\n          videoIsFull: true\r\n         }\r\n       *\r\n                                          */\r\n      \r\n      console.log(\"snapshotUpdate reset time:\", dataModel.resetTime);\r\n      console.log(\"snapshotUpdate id time:\", dataModel.idTime);\r\n      //console.log(\"snapshotYodate idPlus15:\", dataModel.idPlus15);\r\n  \r\n      //Compare lsLen to liveScan array size\r\n      if(lsLen < liveScans.length) {\r\n        //Reset array and maps if update array size is less\r\n        liveScans.forEach( o => {\r\n          o.map1marker.setMap(null)\r\n          o.map2marker.setMap(null)\r\n          o.map3marker.setMap(null)\r\n        })\r\n        liveScans.splice(0, liveScans.length)\r\n        dataModel.labelIndex = 0\r\n      }\r\n      //On 1st load initiate prevVpubID\r\n      if(dataModel.prevVpubID == 0) {\r\n        dataModel.prevVpubID = vpubID\r\n      }\r\n  \r\n      //Check for new waypoint on each snapshot update\r\n      getDoc(doc(db, apublishCollection,  apubID))\r\n      .then( (document) => {\r\n        if(document.exists()) {\r\n          waypoint = document.data()\r\n          let dt = new Date()\r\n          let ts = Math.round(dt.getTime()/1000)\r\n          let diff = ts - waypoint.apubTS\r\n          //Is apubID (waypoint) new?\r\n          if(apubID > dataModel.prevApubID ) {\r\n            //Is model 0 default?\r\n            if(dataModel.prevApubID == 0) {\r\n              //Yes. Update stored obj and save new apubID\r\n              dataModel.waypoint   = waypoint\r\n              dataModel.prevApubID = apubID\r\n            }\r\n            //Yes. Output true to report it.\r\n            return true\r\n          }       \r\n        } else {\r\n          outputWaypoint(\r\n            dataModel.cameraStatus.showVideoOn, \r\n            dataModel.cameraStatus.showVideo, \r\n            dataModel.cameraStatus.webcamNum,\r\n            dataModel.cameraStatus.videoIsFull, \r\n            dataModel.promoIsOn,\r\n            dataModel.videoProgramIsOn,\r\n            dataModel.cameraStatus.videoIsPassingCloseup\r\n          )\r\n          wasOutput = true\r\n          return false\r\n        }\r\n      })\r\n  \r\n      .then( (isNew) => {\r\n        if(!isNew) return\r\n        //Waypoint is new, so continue\r\n        //   Calculate waypoint by event and direction data\r\n        let dir = dataModel.waypoint.apubDir.includes('wn') ? \"down\" : \"up\"\r\n        //Strip waypoint basename as event name\r\n        let event = dataModel.waypoint.apubEvent.substr(0, dataModel.waypoint.apubEvent.length-2)\r\n        let str = event + \"-\" + dir + \"-map-v2.jpg\"\r\n        //let str = event + \"-\" + dir + \"-map.png\"\r\n        dataModel.waypoint.bgMap = \"https://storage.googleapis.com/www.clintonrivertraffic.com/images/\"+str\r\n        //Prevent audio play on reload\r\n        if(dataModel.isReload) {\r\n          dataModel.isReload = false \r\n          outputWaypoint(\r\n            dataModel.cameraStatus.showVideoOn, \r\n            dataModel.cameraStatus.showVideo, \r\n            dataModel.cameraStatus.webcamNum,\r\n            dataModel.cameraStatus.videoIsFull, \r\n            dataModel.promoIsOn,\r\n            dataModel.videoProgramIsOn,\r\n            dataModel.cameraStatus.videoIsPassingCloseup\r\n          );\r\n          wasOutput = true\r\n          console.log(\"waypoint output skipping audio play on browser reload.\")\r\n          return\r\n        }\r\n        //Change class of event with matching apubID\r\n        if(dataModel.waypoint.apubID===dataModel.alertsPassenger[19].apubID) {\r\n          const li = document.getElementById(\"pass19\")\r\n          li.classList.add('isNew')      \r\n          console.log(\"waypoint match found to passenger event \"+diff+\" seconds ago -> playSound()\")\r\n          playSound()\r\n        } else if(dataModel.waypoint.apubID===dataModel.alertsAll[19].apubID) {\r\n          const li = document.getElementById(\"all19\")\r\n          li.classList.add('isNew')\r\n          console.log(\"waypoint match found to 'any' event \"+diff+\" seconds ago -> playSound()\")\r\n          playSound()\r\n        } else {\r\n          console.log(\"no waypoint match to an event was found\")\r\n        }\r\n        outputWaypoint(\r\n          dataModel.cameraStatus.showVideoOn, \r\n          dataModel.cameraStatus.showVideo, \r\n          dataModel.cameraStatus.webcamNum,\r\n          dataModel.cameraStatus.videoIsFull, \r\n          dataModel.promoIsOn,\r\n          dataModel.videoProgramIsOn,\r\n          dataModel.cameraStatus.videoIsPassingCloseup\r\n        )\r\n      })\r\n  \r\n      //Also check for new voice annoucement on each snapshot update\r\n      getDoc(doc(db, vpublishCollection, vpubID))\r\n      .then( (document) => {\r\n        if(document.exists()) {\r\n          //let announcement = document.data()\r\n          dataModel.announcement = document.data()\r\n          let dt = new Date()\r\n          let ts = Math.round(dt.getTime()/1000)\r\n          let diff = ts - dataModel.announcement.vpubTS\r\n          \r\n          if(vpubID > dataModel.prevVpubID && diff < 300) {\r\n            return true\r\n          }\r\n          return false\r\n        } else {\r\n          console.log(\"No announcements.\", vpubID)\r\n          dataModel.announcement = {\r\n            vpubText: \"No new announcements.\"\r\n          }\r\n          return false\r\n        }\r\n      })\r\n      .then( (isNew) => {  \r\n        if(isNew) {\r\n          dataModel.prevVpubID = vpubID\r\n          playAnnouncement()\r\n        }\r\n      })\r\n      if(!wasOutput) {\r\n        //Ensure view update for showVideo boolean changes\r\n        outputWaypoint(\r\n          dataModel.cameraStatus.showVideoOn, \r\n          dataModel.cameraStatus.showVideo, \r\n          dataModel.cameraStatus.webcamNum,\r\n          dataModel.cameraStatus.videoIsFull, \r\n          dataModel.promoIsOn,\r\n          dataModel.videoProgramIsOn,\r\n          dataModel.cameraStatus.videoIsPassingCloseup\r\n        )\r\n      }\r\n    })\r\n  \r\n    return new Promise((resolve, reject )=>{\r\n      resolve()\r\n      reject()\r\n    })\r\n  }         \r\n  \r\n\r\nfunction outputWaypoint(showVideoOn, showVideo, webcamNum, videoIsFull, playPromo, playProgram, videoIsPassingCloseup) {  \r\n    if(privateMode==true) { \r\n      showVideoOn=false;\r\n    }\r\n    console.log(\"outputWaypoint(showVideoOn, showVideo, webcamNum, videoIsFull), videoSource\", showVideoOn, showVideo, webcamNum, videoIsFull, dataModel.videoSource);\r\n    if(showVideoOn==true && showVideo==true) {\r\n      dataModel.videoIsOn = true;\r\n      waypointDiv.style = `display: none`;\r\n      videoTag.style = `display: block; z-index: 0`;\r\n      const options = {\r\n        autoplay: true,\r\n        preload: \"auto\",\r\n        fluid: true,\r\n        loadingSpinner: false,\r\n        techOrder: [\"html5\", \"youtube\"]\r\n      };\r\n      console.log(\"webcamNum is\", webcamNum);\r\n      if(videoIsPassingCloseup && !dataModel.cameraStatus.videoIsPassingCloseup) {\r\n        //Turn on closeup if passing and not on already\r\n        togglePassingCloseup(videoIsPassingCloseup, videoIsFull)\r\n      } else if(dataModel.cameraStatus.videoIsPassingCloseup && !videoIsPassingCloseup) {\r\n        //Turn off closeup if on and not passing\r\n        togglePassingCloseup(videoIsPassingCloseup, videoIsFull)\r\n      }\r\n      // Play promo from rotation at random\r\n      if(playPromo && tvMode) {\r\n        let sk = Math.floor(Math.random() * dataModel.promoSources.length)\r\n        let promoSource = location.protocol + '//' + location.host + '/' + dataModel.promoSources[sk];\r\n        console.log(\"promo source\", promoSource);\r\n        //clearZoom();\r\n        waypointLabel.innerHTML = \"Thank You For Watching\";\r\n        dataModel.promoIsOn = true;\r\n        zoomControl(dataModel.cameraStatus.webcamZoom)\r\n        //Turn off vessel name overlay when promo running\r\n        if(overlay2.classList.contains(\"active\")) {\r\n          overlay2.classList.remove(\"active\");\r\n        }\r\n  \r\n        player = videojs(\"video\", options, function onPlayerReady() {\r\n          this.on('ended', function() {\r\n            this.src({ type: dataModel.videoType, src: dataModel.videoSource, });\r\n            this.play();\r\n            dataModel.promoIsOn = false;\r\n            //togglePassingCloseup(videoIsPassingCloseup, videoIsFull)\r\n            if(videoIsPassingCloseup && !dataModel.cameraStatus.videoIsPassingCloseup) {\r\n              //Turn on closeup if passing and not on already\r\n              togglePassingCloseup(videoIsPassingCloseup, videoIsFull)\r\n            } else if(dataModel.cameraStatus.videoIsPassingCloseup && !videoIsPassingCloseup) {\r\n              //Turn off closeup if on and not passing\r\n              togglePassingCloseup(videoIsPassingCloseup, videoIsFull)\r\n            }\r\n            zoomControl(dataModel.cameraStatus.webcamZoom);\r\n            waypointLabel.innerHTML = dataModel.webcamName[webcamNum]; //\"3 Miles South of Drawbridge\";\r\n          });\r\n          this.src({ type:\"application/x-mpegURL\" , src: promoSource });\r\n          this.play();\r\n        });\r\n      }\r\n      //Play scheduled video program\r\n      if(playProgram && tvMode) {  \r\n        waypointLabel.innerHTML = dataModel.videoProgram.dataTitle;\r\n        dataModel.videoProgramIsOn = true;\r\n        zoomControl(dataModel.cameraStatus.webcamZoom)\r\n        //Turn off vessel overlay when program playing\r\n        if(overlay2.classList.contains(\"active\")) {\r\n          overlay2.classList.remove(\"active\");\r\n        }\r\n        player = videojs(\"video\", options, function onPlayerReady() {\r\n          this.on('ended', function() {\r\n            this.src({ type: dataModel.videoType, src: dataModel.videoSource });\r\n            this.play();\r\n            dataModel.videoProgramIsOn = false;\r\n            //togglePassingCloseup(videoIsPassingCloseup, videoIsFull)\r\n            if(videoIsPassingCloseup && !dataModel.cameraStatus.videoIsPassingCloseup) {\r\n              //Turn on closeup if passing and not on already\r\n              togglePassingCloseup(videoIsPassingCloseup, videoIsFull)\r\n            } else if(dataModel.cameraStatus.videoIsPassingCloseup && !videoIsPassingCloseup) {\r\n              //Turn off closeup if on and not passing\r\n              togglePassingCloseup(videoIsPassingCloseup, videoIsFull)\r\n            }\r\n            zoomControl(dataModel.cameraStatus.webcamZoom)\r\n            waypointLabel.innerHTML = dataModel.webcamName[webcamNum]; //\"3 Miles South of Drawbridge\";\r\n          })\r\n          \r\n          this.src({ type: dataModel.videoProgram.type, src: dataModel.videoProgram.source });\r\n          \r\n          this.play();\r\n        });\r\n      } else {\r\n        zoomControl(dataModel.cameraStatus.webcamZoom);\r\n        //Switch camera source if changed\r\n        if(webcamNum != dataModel.prevWebcamNum) {\r\n          waypointLabel.innerHTML = dataModel.webcamName[webcamNum]; //\"3 Miles South of Drawbridge\"\r\n          dataModel.videoSource = dataModel.webcamSource[webcamNum];\r\n          dataModel.videoType = dataModel.webcamType[webcamNum];\r\n          console.log(\"video source\", dataModel.videoSource);\r\n  \r\n          if(player==null) {\r\n            player = videojs(\"video\", options);\r\n          }\r\n          player.ready(function() {\r\n            player.src({ type: dataModel.videoType, src: dataModel.videoSource })\r\n            player.play()\r\n          });\r\n          dataModel.prevWebcamNum = webcamNum;      \r\n          console.log(\"outputWaypoint(showVideoOn, showVideo, webcamNum, videoIsFull), videoSource\", showVideoOn, showVideo, webcamNum, videoIsFull, dataModel.videoSource);\r\n        }\r\n      }   \r\n      //waypointLabel.style = `z-index: 1`;\r\n    } else {\r\n      dataModel.videoIsOn = false;\r\n      videoTag.style = `display: none`;\r\n      waypoint.style = `background-image: url(${dataModel.waypoint.bgMap})`;\r\n      waypointLabel.innerHTML = \"WAYPOINT\";\r\n      waypointDiv.innerHTML = `<h3>${dataModel.waypoint.apubText}</h3>`;\r\n      waypointDiv.style.display = \"block\";\r\n      console.log(\"outputWaypoint(showVideoOn, showVideo, webcamNum, videoIsFull)\", showVideoOn, showVideo, webcamNum, videoIsFull);\r\n    }\r\n    return new Promise((resolve, reject )=>{\r\n      resolve()\r\n      reject()\r\n    })  \r\n  }\r\n\r\n\r\n  function initVideo() {\r\n    const options = {\r\n        autoplay: true,\r\n        preload: \"auto\",\r\n        fluid: true,\r\n        loadingSpinner: false,\r\n        techOrder: [\"html5\", \"youtube\"]\r\n      };\r\n\r\n      player = videojs(\"video\", options, function onPlayerReady() {\r\n        this.on('ended', function() {\r\n          this.src({ type: dataModel.videoType, src: dataModel.videoSource, });\r\n          this.play();\r\n          dataModel.promoIsOn = false;\r\n          //togglePassingCloseup(videoIsPassingCloseup, videoIsFull)\r\n          if(videoIsPassingCloseup && !dataModel.cameraStatus.videoIsPassingCloseup) {\r\n            //Turn on closeup if passing and not on already\r\n            togglePassingCloseup(videoIsPassingCloseup, videoIsFull)\r\n          } else if(dataModel.cameraStatus.videoIsPassingCloseup && !videoIsPassingCloseup) {\r\n            //Turn off closeup if on and not passing\r\n            togglePassingCloseup(videoIsPassingCloseup, videoIsFull)\r\n          }\r\n          zoomControl(dataModel.cameraStatus.webcamZoom);\r\n          waypointLabel.innerHTML = dataModel.webcamName[webcamNum]; //\"3 Miles South of Drawbridge\";\r\n        });\r\n        this.src({ type:\"application/x-mpegURL\" , src: promoSource });\r\n        this.play();\r\n      });\r\n\r\n  }"],"names":["DataModel","cameraStatus","showVideo","showVideoOn","webcamNum","webcamZoom","videoIsFull","videoIsPassingCloseup","zoomArray","zoomMode","trackerStatus","popupOn","enabled","followingId","obj","promoSources","promoIsOn","labelIndex","lab","red","region","title","focusPosition","map1ZoomLevel","passagesCollection","alertpublishCollection","voicepublishCollection","announcementsCollection","apubFieldName","vpubFieldName","lsLenField","showVideoField","showVideoOnField","webcamNumField","webcamZoomField","webcamSource","webcamName","webcamType","videoSource","videoType","videoIsOn","videoProgram","videoProgramIsOn","passengerTrackerIsOn","manualTrackerIsOn","vesselsAreInCameraRange","vesselsInCamera","vesselsArePass","map1","map2","map3","polylines","mileMarkersList1","mileMarkerLabels1","mileMarkersList2","mileMarkerLabels2","mileMarkersList3","mileMarkerLabels3","rotatingKey","passRotKey","numVessels","fakeDataIterator","passagesList","type","alertsPassenger","apubVesselName","apubID","date","Date","alertsAll","announcement","waypoint","prevWebcamNum","prevWaypoint","prevVpubID","prevApubID","isReload","news","key","text","newsKey","transponder","step","stepMax","viewList","player","dataModel","fetchWaypoint","adminSnapshot","onSnapshot","doc","db","querySnapshot","dataSet","data","vpubID","lsLen","apublishCollection","vpublishCollection","wasOutput","console","log","sitename","toString","includes","A","webcamSources","src","B","C","D","name","resetTime","idTime","liveScans","length","forEach","o","map1marker","setMap","map2marker","map3marker","splice","getDoc","then","document","exists","dt","ts","Math","round","getTime","diff","apubTS","outputWaypoint","isNew","dir","apubDir","event","apubEvent","substr","str","bgMap","li","getElementById","classList","add","playSound","vpubTS","vpubText","playAnnouncement","Promise","resolve","reject","playPromo","playProgram","privateMode","waypointDiv","style","videoTag","options","autoplay","preload","fluid","loadingSpinner","techOrder","togglePassingCloseup","tvMode","sk","floor","random","promoSource","location","protocol","host","waypointLabel","innerHTML","zoomControl","overlay2","contains","remove","videojs","onPlayerReady","on","play","dataTitle","source","ready","apubText","display","initVideo"],"sourceRoot":""}